{"version":3,"sources":["Router.tsx","data/types.ts","item.png","renderers/DivRenderer.tsx","data/data.ts","data/array.ts","renderers/PixiRenderer.tsx","renderers/PixiFiberRenderer.tsx","renderers/KonvaRenderer.tsx","renderers/SVGRenderer.tsx","renderers/VanillaPixiRenderer.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Path","Points","a","b","x","y","length","theta","Math","random","PI","cos","sin","atan2","DivItem","item","onClick","hideText","style","position","left","top","transform","direction","useCallback","src","image","width","draggable","color","id","DivRenderer","items","height","userSelect","overflow","background","map","updateItem","frame","floor","turnInterval","generateItems","count","Array","from","v","i","toString","ItemSprite","rotation","click","interactive","text","fill","fontSize","PixiRenderer","options","antialias","autoDensity","RouterContext","createContext","index","Route","path","children","useContext","Router","Provider","value","texture","Texture","PixiFiberRenderer","resolution","window","devicePixelRatio","useState","setImage","useEffect","imageElm","Image","imageSrc","addEventListener","KonvaRenderer","SVGItem","href","SVGRenderer","PixiItem","sprite","Sprite","Text","addChild","this","Container","isPixiItem","obj","VanillaPixiRenderer","app","setApp","ref","useRef","Application","current","appendChild","view","pixiItems","stage","filter","pixiItem","find","p","undefined","update","addListener","itemIds","removeChild","includes","parent","App","fn","deps","setItems","setCount","setPath","log","setLog","setHideText","handler","requestAnimationFrame","onFrame","cancelAnimationFrame","props","Date","toLocaleTimeString","onChange","e","parseInt","currentTarget","div","pixi","pixiFiber","konva","svg","pixiVanilla","n","type","checked","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.119bf159.chunk.js","sourcesContent":["import React, { createContext, FC, useContext } from \"react\"\n\nexport enum Path {\n  index,\n  div,\n  pixi,\n  pixiFiber,\n  pixiVanilla,\n  konva,\n  svg,\n}\n\nconst RouterContext = createContext<Path>(Path.index)\n\nexport interface RouterProps {\n  path: Path\n}\n\nexport interface RouteProps {\n  path: Path\n}\n\nexport const Route: FC<RouteProps> = ({ path, children }) => {\n  const currentPath = useContext(RouterContext)\n  if (path === currentPath) {\n    return <>{children}</>\n  }\n  return <></>\n}\n\nexport const Router: FC<RouterProps> = ({ path, children }) => {\n  return (\n    <RouterContext.Provider value={path}>{children}</RouterContext.Provider>\n  )\n}\n","export interface IPoint {\n  x: number\n  y: number\n}\n\nexport const Points = {\n  zero: { x: 0, y: 0 },\n  add: (a: IPoint, b: IPoint) => ({ x: a.x + b.x, y: a.y + b.y }),\n  random(length: number) {\n    const theta = Math.random() * 2 * Math.PI\n    return {\n      x: length * Math.cos(theta),\n      y: length * Math.sin(theta),\n    }\n  },\n  rotation: (a: IPoint) => Math.atan2(a.y, a.x),\n  angle: (a: IPoint) => (Math.atan2(a.y, a.x) / 2 / Math.PI) * 360,\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACuElEQVRo3u1ZvYvUQBx9M85y6QRZRO5PELGyuiLbaXONcIjYCYKKiGynNwm7uRvR7opDTm3OxkPURrHRYmUDVpaKjdUhynEcFgpLzmTnZ3GrhNzu3uZjJxzkVZmZZPLevMxLMgNUqFChQplgWS+UUn4kojP/ypxzpZRyTQvgmZUzthova60dx3GWD40Ay7KeA9guW8SRrBd2Op3Itu2jAOx4PRHZjUZD+L7/3oSAzA4AgBBiDUCUrDfpRGYHAKDb7f62bfskgFPJNlNO5HIAADjnq6PaTDiRywEA8H3/m23b8wBmh7VP24ncDgD7IzWJaTpRiIBhkWpKBFtcXPyEvUkYcc5vKKUeZ+lISrlMRM6BI1bwG5szxtYHx0Jr/UhKeW9lZSW1M6MiNYmineC1Wm0jfmMiur2zs/N0aWnJStOR53k/GGMvJzm3SBG83W5vMcbexSuJ6OLu7u7bVqt1LFVnYyJ1WiIYADiOs6C1flHEiEwREYAvjLHXQogHnudtAYMUsizrDYCfZTM8AALAaSJywjD86jjOFSD2PyClXCOia2WzTAPO+VUeK6zn6awMaK3vFvIiKxP/BWitL5dNJjV5zu8wAFBKWb1e7zuAVLFZIn5xzm8ppZ4IAAiCYP4QkP8D4DNj7JUQ4qHnedvAXjSBiPY9PowxXwhx3vO8iePVdd25fr//YdLzi/gu4u12+wQRnU2QfzYzM3MuDXkA0FrfNEkeAEQYhpcwcGJA/n69XpfNZlOn6ajVas2GYbhgkjwAiNjjk+tzOoqi6/GBMEEeyLEyF8cgxTYBHDdJHijojywIggtlkC9MABGNnbzTXDfNLcB13bn4Iq9J8oUIGBedJlasc03iQXRuYkj6mFpuz+XAqOg0uVeQ2YFR0Wl6oyOzA8Ois4xdmswCktFZ1hZThQoVKpSLv1lpRA4sykLqAAAAAElFTkSuQmCC\"","import { Points } from \"../data/types\"\nimport { ItemProps, ItemRenderer } from \"./renderer\"\nimport image from \"../item.png\"\nimport { Item } from \"../data/data\"\nimport { FC, useCallback } from \"react\"\n\nconst DivItem: FC<ItemProps> = ({ item, onClick, hideText }) => {\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        left: item.position.x,\n        top: item.position.y,\n        transform: `rotate(${Points.rotation(item.direction)}rad)`,\n      }}\n      onClick={useCallback(() => onClick(item), [item])}\n    >\n      <img src={image} width=\"30\" draggable={false} />\n      {!hideText && <div style={{ color: \"white\" }}>{item.id}</div>}\n    </div>\n  )\n}\n\nexport const DivRenderer: ItemRenderer = ({\n  items,\n  width,\n  height,\n  onClick,\n  hideText,\n}) => {\n  return (\n    <div\n      style={{\n        position: \"relative\",\n        userSelect: \"none\",\n        width,\n        height,\n        overflow: \"hidden\",\n        background: \"black\",\n      }}\n    >\n      {items.map((item) => (\n        <DivItem\n          item={item}\n          onClick={onClick}\n          key={item.id}\n          hideText={hideText}\n        />\n      ))}\n    </div>\n  )\n}\n","import { range } from \"./array\"\nimport { IPoint, Points } from \"./types\"\n\nexport interface Item {\n  id: string\n  position: IPoint\n  direction: IPoint\n  frame: number\n  turnInterval: number\n}\n\nexport const updateItem = (item: Item) => {\n  const frame = item.frame + 1\n  const direction =\n    frame > 0 && frame % Math.floor(item.turnInterval) === 0\n      ? Points.random(1)\n      : item.direction\n\n  return {\n    ...item,\n    direction,\n    frame,\n    position: Points.add(item.position, direction),\n  }\n}\n\nexport const generateItems = (count: number): Item[] =>\n  range(count).map((i) => ({\n    id: i.toString(),\n    position: { x: Math.random() * 300, y: Math.random() * 300 },\n    direction: Points.random(1),\n    frame: 0,\n    turnInterval: 10 + Math.random() * 500,\n  }))\n","export const range = (length: number) => Array.from({ length }, (v, i) => i)\n","import { Stage, Sprite, Text, Container } from \"@inlet/react-pixi\"\nimport React, { FC, useCallback } from \"react\"\nimport { ItemProps, ItemRenderer } from \"./renderer\"\nimport image from \"../item.png\"\nimport { Points } from \"../data/types\"\n\nconst ItemSprite: FC<ItemProps> = ({ item, onClick, hideText }) => {\n  return (\n    <Container\n      position={item.position}\n      rotation={Points.rotation(item.direction)}\n      click={useCallback(() => onClick(item), [item])}\n      interactive={true}\n    >\n      <Sprite image={image} width={30} height={30} />\n      {!hideText && (\n        <Text\n          text={item.id}\n          style={{ fill: \"white\", fontSize: 12 }}\n          x={0}\n          y={30}\n        />\n      )}\n    </Container>\n  )\n}\n\nexport const PixiRenderer: ItemRenderer = ({\n  width,\n  height,\n  items,\n  onClick,\n  hideText,\n}) => (\n  <Stage\n    width={width}\n    height={height}\n    options={{ antialias: true, autoDensity: true }}\n  >\n    {items.map((item) => (\n      <ItemSprite\n        item={item}\n        key={item.id}\n        onClick={onClick}\n        hideText={hideText}\n      />\n    ))}\n  </Stage>\n)\n","import React, { FC, useCallback } from \"react\"\nimport { ItemProps, ItemRenderer } from \"./renderer\"\nimport image from \"../item.png\"\nimport { Item } from \"../data/data\"\nimport { Points } from \"../data/types\"\nimport { Container, Sprite, Stage, Text } from \"react-pixi-fiber\"\nimport { Texture } from \"pixi.js\"\n\nconst ItemSprite: FC<ItemProps> = ({ item, onClick, hideText }) => {\n  return (\n    <Container\n      position={item.position}\n      rotation={Points.rotation(item.direction)}\n      click={useCallback(() => onClick(item), [item])}\n      interactive={true}\n    >\n      <Sprite texture={Texture.from(image)} width={30} height={30} />\n      {!hideText && (\n        <Text\n          text={item.id}\n          style={{ fill: \"white\", fontSize: 12 }}\n          x={0}\n          y={30}\n        />\n      )}\n    </Container>\n  )\n}\n\nexport const PixiFiberRenderer: ItemRenderer = ({\n  width,\n  height,\n  items,\n  onClick,\n  hideText,\n}) => (\n  <Stage\n    options={{\n      width,\n      height,\n      antialias: true,\n      autoDensity: true,\n      resolution: window.devicePixelRatio,\n    }}\n  >\n    {items.map((item) => (\n      <ItemSprite\n        item={item}\n        key={item.id}\n        onClick={onClick}\n        hideText={hideText}\n      />\n    ))}\n  </Stage>\n)\n","import React, { FC, useCallback, useEffect, useState } from \"react\"\nimport { ItemProps, ItemRenderer } from \"./renderer\"\nimport imageSrc from \"../item.png\"\nimport { Points } from \"../data/types\"\nimport { Layer, Group, Image, Stage, Text } from \"react-konva\"\n\nconst ItemSprite: FC<ItemProps> = ({ item, onClick, hideText }) => {\n  const [image, setImage] = useState<HTMLImageElement | null>(null)\n\n  useEffect(() => {\n    const imageElm = new window.Image()\n    imageElm.src = imageSrc\n    imageElm.addEventListener(\"load\", () => setImage(imageElm))\n  }, [])\n\n  return (\n    <Group\n      position={item.position}\n      rotation={Points.angle(item.direction)}\n      click={useCallback(() => onClick(item), [item])}\n      interactive={true}\n    >\n      {image && <Image image={image} width={30} height={30} />}\n      {!hideText && <Text text={item.id} fontSize={12} x={0} y={30} />}\n    </Group>\n  )\n}\n\nexport const KonvaRenderer: ItemRenderer = ({\n  width,\n  height,\n  items,\n  onClick,\n  hideText,\n}) => (\n  <Stage\n    width={width}\n    height={height}\n    options={{ antialias: true, autoDensity: true }}\n  >\n    <Layer>\n      {items.map((item) => (\n        <ItemSprite\n          item={item}\n          key={item.id}\n          onClick={onClick}\n          hideText={hideText}\n        />\n      ))}\n    </Layer>\n  </Stage>\n)\n","import { Points } from \"../data/types\"\nimport { ItemProps, ItemRenderer } from \"./renderer\"\nimport image from \"../item.png\"\nimport { FC, useCallback } from \"react\"\n\nconst SVGItem: FC<ItemProps> = ({ item, onClick, hideText }) => {\n  return (\n    <g\n      transform={`translate(${item.position.x}, ${\n        item.position.y\n      }) rotate(${Points.angle(item.direction)})`}\n      onClick={useCallback(() => onClick(item), [item])}\n    >\n      <image href={image} width=\"30\" />\n      {!hideText && (\n        <text y={40} fill=\"white\">\n          {item.id}\n        </text>\n      )}\n    </g>\n  )\n}\n\nexport const SVGRenderer: ItemRenderer = ({\n  items,\n  width,\n  height,\n  onClick,\n  hideText,\n}) => {\n  return (\n    <div\n      style={{\n        position: \"relative\",\n        userSelect: \"none\",\n        overflow: \"hidden\",\n        background: \"black\",\n      }}\n    >\n      <svg width={width} height={height}>\n        {items.map((item) => (\n          <SVGItem\n            item={item}\n            onClick={onClick}\n            key={item.id}\n            hideText={hideText}\n          />\n        ))}\n      </svg>\n    </div>\n  )\n}\n","import {\n  Application,\n  Container,\n  DisplayObject,\n  Sprite,\n  Text,\n  Texture,\n} from \"pixi.js\"\nimport { useEffect, useRef, useState } from \"react\"\nimport { ItemRenderer } from \"./renderer\"\nimport image from \"../item.png\"\nimport { Item } from \"../data/data\"\nimport { Points } from \"../data/types\"\n\nclass PixiItem extends Container {\n  id = \"\"\n  sprite = new Sprite(Texture.from(image))\n  text = new Text(\"\", { fill: \"white\", fontSize: 12 })\n\n  constructor(id: string) {\n    super()\n    this.id = id\n    this.sprite.width = 30\n    this.addChild(this.sprite)\n    this.text.y = 30\n    this.addChild(this.text)\n    this.interactive = true\n  }\n\n  update(item: Item) {\n    this.rotation = Points.rotation(item.direction)\n    this.x = item.position.x\n    this.y = item.position.y\n    this.text.text = item.id\n  }\n}\n\nconst isPixiItem = (obj: DisplayObject): obj is PixiItem =>\n  obj instanceof PixiItem\n\nexport const VanillaPixiRenderer: ItemRenderer = ({\n  items,\n  width,\n  height,\n  onClick,\n  hideText,\n}) => {\n  const [app, setApp] = useState<Application | null>(null)\n  const ref = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    const app = new Application({\n      width,\n      height,\n      antialias: true,\n      autoDensity: true,\n      resolution: window.devicePixelRatio,\n    })\n    ref.current!.appendChild(app.view)\n    setApp(app)\n  }, [])\n\n  useEffect(() => {\n    if (!app) {\n      return\n    }\n    const pixiItems = app.stage.children.filter(isPixiItem)\n    for (let item of items) {\n      let pixiItem = pixiItems.find((p) => p.id === item.id)\n      if (pixiItem === undefined) {\n        pixiItem = new PixiItem(item.id)\n        app.stage.addChild(pixiItem)\n      }\n      pixiItem.update(item)\n      pixiItem.addListener(\"click\", () => onClick(item))\n    }\n    const itemIds = items.map((i) => i.id)\n    app.stage.removeChild(...pixiItems.filter((p) => !itemIds.includes(p.id)))\n  }, [items])\n\n  useEffect(() => {\n    if (!app) {\n      return\n    }\n    const pixiItems = app.stage.children.filter(isPixiItem)\n    for (let pixiItem of pixiItems) {\n      if (hideText) {\n        if (pixiItem.text.parent) {\n          pixiItem.removeChild(pixiItem.text)\n        }\n      } else {\n        if (!pixiItem.text.parent) {\n          pixiItem.addChild(pixiItem.text)\n        }\n      }\n    }\n  }, [hideText])\n\n  return <div ref={ref}></div>\n}\n","import React, { useCallback, useEffect, useState } from \"react\"\nimport { DivRenderer } from \"./renderers/DivRenderer\"\nimport { generateItems, Item, updateItem } from \"./data/data\"\nimport { FpsView } from \"react-fps\"\nimport { ItemRendererProps } from \"./renderers/renderer\"\nimport { PixiRenderer } from \"./renderers/PixiRenderer\"\nimport { Path, Route, Router } from \"./Router\"\nimport \"./App.css\"\nimport { PixiFiberRenderer } from \"./renderers/PixiFiberRenderer\"\nimport { KonvaRenderer } from \"./renderers/KonvaRenderer\"\nimport { SVGRenderer } from \"./renderers/SVGRenderer\"\nimport { VanillaPixiRenderer } from \"./renderers/VanillaPixiRenderer\"\n\nconst useAnimationFrame = (fn: () => void, deps: any[]) => {\n  useEffect(() => {\n    let handler: number\n\n    const onFrame = () => {\n      fn()\n      handler = requestAnimationFrame(onFrame)\n    }\n\n    handler = requestAnimationFrame(onFrame)\n    return () => cancelAnimationFrame(handler)\n  }, deps)\n}\n\nfunction App() {\n  const [items, setItems] = useState<Item[]>([])\n  const [count, setCount] = useState(100)\n  const [path, setPath] = useState(Path.index)\n  const [log, setLog] = useState(\"\")\n  const [hideText, setHideText] = useState(false)\n\n  useEffect(() => {\n    setItems(generateItems(count))\n  }, [path, count])\n\n  useAnimationFrame(() => {\n    setItems((items) => items.map(updateItem))\n  }, [setItems])\n\n  const props: ItemRendererProps = {\n    width: 1000,\n    height: 1000,\n    items,\n    hideText,\n    onClick: (item) =>\n      setLog(`${new Date().toLocaleTimeString()}: click ${item.id}`),\n  }\n\n  return (\n    <>\n      <header>\n        <h1>React with {\"<canvas>\"} Performance Test</h1>\n        <select\n          value={path}\n          onChange={(e) => setPath(parseInt(e.currentTarget.value) as Path)}\n        >\n          <option value={Path.index}>Home</option>\n          <option value={Path.div}>Div Renderer</option>\n          <option value={Path.pixi}>@inlet/react-pixi</option>\n          <option value={Path.pixiFiber}>react-pixi-fiber</option>\n          <option value={Path.konva}>react-konva</option>\n          <option value={Path.svg}>SVG</option>\n          <option value={Path.pixiVanilla}>pixi.js (Vanilla)</option>\n        </select>\n        <select\n          value={count}\n          onChange={(e) => setCount(parseInt(e.currentTarget.value))}\n        >\n          {[10, 100, 1000, 10000].map((n) => (\n            <option value={n} key={n}>\n              {n} items\n            </option>\n          ))}\n        </select>\n        <button onClick={() => setItems(generateItems(count))}>Reset</button>\n        <label>\n          <input\n            type=\"checkbox\"\n            onChange={(e) => setHideText(e.currentTarget.checked)}\n          />\n          Hide Text\n        </label>\n      </header>\n      <div className=\"fps\">\n        <FpsView top=\"auto\" left=\"auto\" />\n      </div>\n      <Router path={path}>\n        <Route path={Path.index}>\n          <div>Select the renderer</div>\n        </Route>\n        <Route path={Path.div}>\n          <DivRenderer {...props} />\n        </Route>\n        <Route path={Path.pixi}>\n          <PixiRenderer {...props} />\n        </Route>\n        <Route path={Path.pixiFiber}>\n          <PixiFiberRenderer {...props} />\n        </Route>\n        <Route path={Path.konva}>\n          <KonvaRenderer {...props} />\n        </Route>\n        <Route path={Path.svg}>\n          <SVGRenderer {...props} />\n        </Route>\n        <Route path={Path.pixiVanilla}>\n          <VanillaPixiRenderer {...props} />\n        </Route>\n      </Router>\n      <div className=\"log\">{log}</div>\n    </>\n  )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}